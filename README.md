# ğŸ’£ ç‚¸å½ˆäºº
çˆ†ç‚¸å§ï¼è¨“ç·´ä½ çš„ AI ä¾†æ§åˆ¶è§’è‰²çš„ç§»å‹•ï¼Œæ”¾ç½®èˆ‡èº²é¿ç‚¸å½ˆï¼Œæˆç‚ºæœ€æœƒç‚¸çš„ç‚¸å½ˆäººå§ï¼

## ç©æ³•ä»‹ç´¹
ç©å®¶éœ€è¦åœ¨ç‰¹å®šçš„æ™‚é–“å…§ä½¿ç”¨ç‚¸å½ˆæ”»æ“Šæ•µå°ç©å®¶ï¼Œç²å¾—å¢ƒå¯èƒ½å¤šçš„åˆ†æ•¸ã€‚ç‚¸å½ˆä¸æœƒå½±éŸ¿å‹æ–¹åœ˜éšŠçš„å…¶ä»–ç©å®¶ï¼Œä¸”ç•¶å¤šå€‹ç‚¸å½ˆåœ¨å½¼æ­¤çš„çˆ†ç‚¸ç¯„åœå…§å°±æœƒç”¢ç”Ÿ `é€£é–çˆ†ç‚¸`ã€‚å¦å¤–åœ°åœ–ä¸Šçš„ `ç“¦ç£š (Tile)` æœƒé˜»æ“‹ç©å®¶çš„ç§»å‹•ï¼Œç©å®¶å¯ä»¥ç ´å£åœ°åœ–ä¸Š `å¯ç ´å£çš„ç“¦ç£š` ä¾†è®“è‡ªå·±æ›´å¥½ç§»å‹•ã€‚

> æ‰‹å‹•æ“ä½œï¼š
> * `w` `s` `a` `d` ç§»å‹•è§’è‰²ã€‚ 
> * `z` æ”¾ç½®ç‚¸å½ˆã€‚

## è¨ˆåˆ†æ©Ÿåˆ¶
* `ç‚¸åˆ°æ•µå°ç©å®¶` + 2
* `è¢«ç‚¸åˆ°` - 1

# éŠæˆ²è¨­å®š
ä½ å¯ä»¥ç°¡å–®çš„è¨­ç½®éŠæˆ²çš„åƒæ•¸ï¼Œå¦å¤–æˆ‘å€‘ä¹Ÿæä¾›äº†ä¸€å€‹äººé¡å¯è®€çš„é—œå¡æª”æ¡ˆæ ¼å¼ (èˆ‡ç·¨è¼¯å™¨)ï¼Œè®“ä½ å¯ä»¥è¼•é¬†çš„æ‰“ç…§ä½ å¿ƒä¸­çš„å®Œç¾é—œå¡ï¼

## éŠæˆ²åƒæ•¸
```py
Game(level_name: str, level_file: Union[None, str], width: int = 750, height: int = 500, user_num: int = 1, game_duration: int = 1800, team_mode: str = "off")
```
* `level_name: str` é—œå¡åç¨± (éŠæˆ²é è¨­çš„é—œå¡åç¨±)ã€‚
* `level_file: str` é—œå¡æª”æ¡ˆè·¯å¾‘ï¼Œè¨­ç½®æ­¤åƒæ•¸æœƒè¦†è“‹æ‰ "level_name"ã€‚
* `width: int` è¦–çª—çš„å¯¬åº¦ã€‚ 
* `height: int` è¦–çª—çš„é«˜åº¦ã€‚
* `user_num: int` ç©å®¶çš„æ•¸é‡ã€‚
  * ç¯„åœç‚º 1 ~ é—œå¡æ”¯æ´çš„æœ€å¤§ç©å®¶æ•¸ (æœ€å¤§ç‚º 4)ã€‚
* `game_duration: int` éŠæˆ²çš„æ™‚é•· (å¹€æ•¸)ã€‚
* `team_mode: bool` åœ˜éšŠæ¨¡å¼ã€‚
  * åªåœ¨ç©å®¶æ•¸é‡ç‚º 2 å€‹ä»¥ä¸Šæ™‚æ‰æœ‰ç”¨ï¼Œåœ¨ 3 å€‹ç©å®¶æ™‚æœƒæœ‰ä¸€å°åªæœ‰ä¸€å€‹ç©å®¶ã€‚

## é—œå¡åƒæ•¸
æˆ‘å€‘ä½¿ç”¨ JSON ä¾†ä½œç‚ºé—œå¡çš„æª”æ¡ˆæ ¼å¼ï¼Œä»¥ä¸‹ç‚ºä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š
```json
{
  "rules": {
    "player_speed": 5,
    "player_bombs": 2,

    "bomb_countdown": 150,
    "bomb_explode_range": 125
  },

  "map": {
    "width": 10,
    "height": 5,

    "tiles": [{ "type": "barrel", "x": 1, "y": 1 }],
    "spawns": [{ "x": 0, "y": 0 }]
  }
}
```
* `Rules` é—œå¡è¦å‰‡ã€‚
  * `player_speed: number` ç©å®¶çš„ç§»å‹•é€Ÿåº¦ã€‚
  * `player_bombs: number` ç©å®¶çš„ç‚¸å½ˆæ•¸ã€‚
  * `bomb_countdown: number` ç‚¸å½ˆçš„çˆ†ç‚¸å€’æ•¸æ™‚é•· (å¹€æ•¸)ã€‚
  * `bomb_explode_range: number` ç‚¸å½ˆçš„çˆ†ç‚¸ç¯„åœã€‚
* `Map` é—œå¡çš„åœ°åœ–
  * `width: number` é—œå¡çš„å¯¬åº¦ (å¹¾å€‹ç“¦ç£š)ã€‚
  * `height: number` é—œå¡çš„é«˜åº¦ (å¹¾å€‹ç“¦ç£š)ã€‚
  * `tiles: list` | åœ°åœ–ä¸Šçš„ç“¦ç£šã€‚
  * `spawns: list` | ç©å®¶çš„é‡ç”Ÿé»ï¼Œæ¸…å–®çš„é•·åº¦æ±ºå®šäº†æœ€å¤§çš„ç©å®¶æ•¸é‡ã€‚

# éŠæˆ²è³‡æ–™
éŠæˆ²æä¾›çµ¦ç©å®¶ä¸€äº›å¦‚åœ°åœ–ç“¦ç£šè³‡è¨Šã€ç©å®¶ä½ç½®ã€ç‚¸å½ˆä½ç½®ç­‰è³‡æ–™ï¼Œä½ å¯ä»¥ç”¨é€™äº›è³‡æ–™ä¾†è¨“ç·´ä½ çš„ AIã€‚
* `status: str` éŠæˆ²çš„ç‹€æ…‹ã€‚
  * å¯ç‚ºï¼š`GAME_ALIVE` `GAME_PASS` `GAME_OVER`ã€‚
* `frame: int` ç•¶å‰å¹€æ•¸ã€‚
* `team: int` ç©å®¶æ‰€å±¬åœ˜éšŠã€‚
* `score: int` ç©å®¶çš„åˆ†æ•¸
* `bombs: int` ç©å®¶å‰©é¤˜ç‚¸å½ˆæ•¸ã€‚
* `x: int` ç©å®¶çš„ X åº§æ¨™ã€‚
* `y: int` ç©å®¶çš„ Y åº§æ¨™ã€‚
* `tiles_matrix: list` ç“¦ç£šçš„çŸ©é™£è³‡æ–™ã€‚
* `players_matrix: list` æ•µå°ç©å®¶çš„çŸ©é™£è³‡æ–™ã€‚
* `bombs_matrix: list` æ•µå°ç©å®¶çš„ç‚¸å½ˆè³‡æ–™ã€‚

## åº§æ¨™ç³»çµ±
éŠæˆ²å…§æœ‰å…©ç¨®åº§æ¨™ç³»çµ±ï¼Œ`å¯¦éš›åº§æ¨™` èˆ‡ `é¡¯ç¤ºåº§æ¨™`ã€‚`å¯¦éš›åº§æ¨™` ç‚ºéŠæˆ²ä¸–ç•Œä¸­å¯¦éš›çš„åº§æ¨™ï¼Œ`é¡¯ç¤ºåº§æ¨™` å‰‡ç‚ºé¡¯ç¤ºåˆ°è¢å¹•ä¸Šçš„åº§æ¨™ï¼Œåœ¨é€™è£¡æˆ‘å€‘æŒ‡çš„çš„åº§æ¨™éƒ½ç‚º `å¯¦éš›åº§æ¨™`ã€‚
![coordinate system](./assets/images/coordinate.png)

## ç“¦ç£šçŸ©é™£è³‡æ–™
ç“¦ç£šçš„çŸ©é™£è³‡æ–™ç‚ºä¸€å€‹æ¸…å–®ï¼Œé•·åº¦ç‚º `åœ°åœ–å¯¬åº¦` x `åœ°åœ–é«˜åº¦`ã€‚è©²æ¸…å–®ä¸­å¯ä»¥æœ‰ä¸‰å€‹å€¼ï¼Œåˆ†åˆ¥ç‚ºï¼š
* `0` æ²’æœ‰ç“¦ç£šã€‚
* `1` æœ‰å¯ç ´å£çš„ç“¦ç£šã€‚
* `2` æœ‰ä¸å¯ç ´å£çš„ç“¦ç£šã€‚
![tiles matrix data](./assets/images/tiles_matrix.png)

## ç©å®¶çŸ©é™£è³‡æ–™
ç©å®¶çš„çŸ©é™£è³‡æ–™èˆ‡[ç“¦ç£šçŸ©é™£è³‡æ–™](#ç“¦ç£šçŸ©é™£è³‡æ–™)é¡ä¼¼ï¼Œåªæ˜¯æ¸…å–®ä¸­çš„å€¼ç”±åœ¨è©²ä½ç½®çš„æ•µå°ç©å®¶æ•¸æ‰€æ±ºå®šï¼š
![players matrix data](./assets/images/players_matrix.png)

## ç‚¸å½ˆçŸ©é™£è³‡æ–™
ç‚¸å½ˆçš„çŸ©é™£è³‡æ–™èˆ‡[ç©å®¶çŸ©é™£è³‡æ–™](#ç©å®¶çŸ©é™£è³‡æ–™)ç›¸åŒï¼Œåªæ˜¯æ¸…å–®ä¸­çš„ç›´ç”±åœ¨è©²ä½ç½®çš„æ•µå°ç©å®¶ç‚¸å½ˆæ•¸æ‰€æ±ºå®šã€‚
