# ğŸ’£ ç‚¸å½ˆäºº

## ç©æ³•ä»‹ç´¹

ç©å®¶éœ€è¦æƒ³è¾¦æ³•ä½¿ç”¨ç‚¸å½ˆæ”»æ“Šå…¶ä»–ç©å®¶ï¼Œåœ¨é™å®šæ™‚é–“å…§ç²å¾—ç›¡å¯èƒ½å¤šçš„åˆ†æ•¸ã€‚ç‚¸å½ˆä¸æœƒæ”»æ“ŠåŒåœ˜éšŠçš„å…¶ä»–ç©å®¶ï¼Œä¸¦ä¸”ç•¶å¤šå€‹ç‚¸å½ˆåœ¨å½¼æ­¤çš„ `çˆ†ç‚¸ç¯„åœ` å…§çˆ†ç‚¸å°±æœƒç”¢ç”Ÿ `é€£é–çˆ†ç‚¸`ï¼åœ°åœ–ä¸Šçš„ `éšœç¤™ç‰©` æœƒé˜»æ“‹ç©å®¶çš„ç§»å‹•ï¼Œç©å®¶å¯ä»¥é€éç‚¸å½ˆä¾†ç ´å£ `å¯ç ´å£çš„éšœç¤™ç‰©` ä»¥è®“è‡ªå·±æ›´å¥½ç§»å‹•ã€‚

<details>
  <summary>ğŸ•¹ï¸ æ‰‹å‹•æ“ä½œ</summary>

  > * ç§»å‹•: `w` `s` `a` `d`
  > * æ”¾ç½®ç‚¸å½ˆ: `z`
</details>

<details>
  <summary>ğŸ“Š è¨ˆåˆ†æ©Ÿåˆ¶</summary>

  > * ç‚¸åˆ°æ•µéšŠç©å®¶: `+2`
  > * è¢«æ•µéšŠç©å®¶ç‚¸åˆ°: `-1`
</details>

# éŠæˆ²è¨­å®š

ä½ å¯ä»¥é€éè¨­å®š `éŠæˆ²åƒæ•¸` èˆ‡ `é—œå¡åƒæ•¸` ä¾†è‡ªå®šç¾©ä½ çš„å°å±€ï¼Œå¯è‡ªè¨‚çš„ç¯„åœå¾ `ç©å®¶æ•¸é‡`ã€`éŠæˆ²æ™‚é•·` åˆ° `ç©å®¶ç‚¸å½ˆæ•¸é‡`ã€`ç‚¸å½ˆçˆ†ç‚¸ç¯„åœ` ç”šè‡³æ˜¯è£½ä½œå…¨æ–°çš„é—œå¡ï¼

* [é—œå¡ç·¨è¼¯æ•™å­¸](./documents/editor.md)

## éŠæˆ²åƒæ•¸

```py
Game(level_name: str, level_path: Union[None, str], window_width: int = 1480, window_height: int = 740, user_num: int = 1, team_mode: str = "off", game_duration: int = 10)
```

- `level_name: str` [å…§å»ºé—œå¡](./documents/editor)çš„åç¨±ã€‚
- `level_path: str` é—œå¡æª”æ¡ˆçš„è·¯å¾‘ (è¨­å®šæ­¤åƒæ•¸æœƒè¦†è“‹æ‰ `level_name`)ã€‚
- `window_width: int` éŠæˆ²è¦–çª—å¯¬åº¦ã€‚
- `window_height: int` éŠæˆ²è¦–çª—çš„é«˜åº¦ã€‚
- `user_num: int` ç©å®¶çš„æ•¸é‡ã€‚
  - ç¯„åœç‚º: `1 ~ 4`ã€‚
- `team_mode: str` é—œå¡æ¨¡å¼ (`on` æˆ– `off`)ã€‚
  - é è¨­ç‚º: `off`ã€‚
- `game_duration: int` éŠæˆ²æ™‚é•· (å¹€æ•¸)ã€‚

## é—œå¡åƒæ•¸

æˆ‘å€‘ä½¿ç”¨ JSON ä½œç‚ºé—œå¡çš„è³‡æ–™æ ¼å¼ (ä»¥ä¸‹çš„ç¯„ä¾‹èˆ‡ [Tiled](https://mapeditor.org) çš„æ ¼å¼ä¸åŒï¼Œä½†å…©ç¨®æ ¼å¼éƒ½æ˜¯æ”¯æ´çš„)ï¼Œä½ å¯ä»¥ä½¿ç”¨æˆ‘å€‘æä¾›çš„[ç‚¸å½ˆäººé—œå¡ç·¨è¼¯å™¨](https://lmantw.github.io/bomb-editor)æˆ– [Tiled](https://mapeditor.org) ä¾†ç·¨è¼¯é—œå¡ã€‚

```py
{
  "rules": {
    "player_speed": int,
    "player_bombs": int,

    "bomb_countdown": int,
    "bomb_explosion_range": int
  },

  "map": {
    "width": int,
    "height": int,

    "tiles": list
  }
}
```

- `rules: dict` é—œå¡çš„è¦å‰‡ã€‚
  - `player_speed: int` ç©å®¶çš„ç§»å‹•é€Ÿåº¦ã€‚
  - `player_bombs: int` ç©å®¶çš„ç‚¸å½ˆæ•¸é‡ã€‚
  - `bomb_countdown: int` ç‚¸å½ˆçš„å€’æ•¸æ™‚é•· (å¹€æ•¸)ã€‚
  - `bomb_explode_range: int` ç‚¸å½ˆçš„çˆ†ç‚¸ç¯„åœã€‚
- `map: dict` é—œå¡çš„åœ°åœ–ã€‚
  - `width: int` | é—œå¡çš„å¯¬åº¦ (ç“¦ç£šæ•¸)ã€‚
  - `height: int` | é—œå¡çš„é«˜åº¦ (ç“¦ç£šæ•¸)ã€‚
  - `tiles: list` | åœ°åœ–ä¸Šçš„ç“¦ç£šã€‚

# éŠæˆ²è³‡æ–™

```py
{
    "status": str,
    "frame": int,

    "score": int,
    "bomb_amount": int,
    "bomb_cooldown": int,

    "width": int,
    "height": int,
    "x": int,
    "y": int,

    "tile_matrix": list,
    "enemy_matrix": list,
    "bomb_matrix": list
}
```

- `status: str` éŠæˆ²çš„ç‹€æ…‹ (`GAME_ALIVE`ã€`GAME_PASS` æˆ– `GAME_OVER`)ã€‚
- `frame: int` éŠæˆ²ç•¶å‰çš„å¹€æ•¸ã€‚
- `score: int` ç©å®¶çš„åˆ†æ•¸ã€‚
- `bomb_amount: int` ç©å®¶å‰©é¤˜çš„ç‚¸å½ˆæ•¸ã€‚
- `bomb_cooldown: int` ç©å®¶æ”¾ç½®ç‚¸å½ˆçš„å†·å»æ™‚é–“ (å¹€æ•¸)ã€‚
- `width: int` åœ°åœ–çš„å¯¬åº¦ (ç“¦ç£šæ•¸)ã€‚
- `height: int` åœ°åœ–çš„é«˜åº¦ (ç“¦ç£šæ•¸)ã€‚
- `x: int` ç©å®¶çš„ X åº§æ¨™ã€‚
- `y: int` ç©å®¶çš„ Y åº§æ¨™ã€‚
- `tile_matrix` ç“¦ç£šçš„çŸ©é™£è³‡æ–™ã€‚
- `enemy_matrix` æ•µéšŠç©å®¶çš„çŸ©é™£è³‡æ–™ã€‚
- `bomb_matrix` æ•µéšŠç‚¸å½ˆçš„çŸ©é™£è³‡æ–™ã€‚

## åº§æ¨™ç³»çµ±

![åº§æ¨™ç³»çµ±](./documents/coordinate.png)

## ç“¦ç£šçŸ©é™£è³‡æ–™

* å¤§å°: `åœ°åœ–å¯¬åº¦` * `åœ°åœ–é«˜åº¦`ã€‚
* æ•¸å€¼: `0 (ç„¡)`ã€`1 (ä¸å¯ç ´å£)` æˆ– `2 (å¯ç ´å£)`ã€‚

![ç“¦ç£šçŸ©é™£è³‡æ–™](./documents/tile_matrix.png)

## æ•µéšŠç©å®¶çŸ©é™£è³‡æ–™

* å¤§å°: `åœ°åœ–å¯¬åº¦` * `åœ°åœ–é«˜åº¦`ã€‚
* æ•¸å€¼: åœ¨è©²ä½ç½®ä¸Šçš„æ•µéšŠç©å®¶æ•¸ã€‚

![æ•µéšŠç©å®¶è³‡æ–™](./documents/enemy_matrix.png)

## æ•µéšŠç‚¸å½ˆçŸ©é™£è³‡æ–™

* å¤§å°: `åœ°åœ–å¯¬åº¦` * `åœ°åœ–é«˜åº¦`ã€‚
* æ•¸å€¼: åœ¨è©²ä½ç½®ä¸Šçš„æ•µéšŠç‚¸å½ˆæ•¸ã€‚

(èˆ‡[æ•µéšŠç©å®¶çŸ©é™£è³‡æ–™](#æ•µéšŠç©å®¶çŸ©é™£è³‡æ–™)é¡ä¼¼)
